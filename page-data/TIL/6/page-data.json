{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/TIL/6/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>이미지를 최적화 하는 방법</h1>\n<p>이전 Lighthouse에서 분석한 로딩 최적화 문제 중 이미지 사이즈에 관한 부분이 있었다.</p>\n<h3><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/030ea5a4eedb6e8ecaddec677d817f0a/79f3a/imgOp2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 32.29166666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9UlEQVQY06XQwUrDQBCA4bz/u4iW1lJIpAjtwcSK0NQaSi2CgexuEmltdje2u7804EEUERz4mMswhz9QSlHXNVpr2rbtdtM0WGsxxnxjraHRhtedpdoatLHd7Yn3nsA5x3/n6BzOebyH4Go04nI4JIoiwjBkMpkwm81IkuRncUwyHBD3Lkj6PW7Oz5gO+kyjkOvxmCB/WpMuFsznc9I0ZblckmUZm82Gsiw5JflCSpQQqPwFdX+Huo0pHx+Q6xVFnhMctaIsK6qq6loKIbqOf56DAv2M32/BOwL7JigKgZSye3oK+8l1bX7hwbVbXJPzvt9xaC0fZSvDhNGO48cAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/030ea5a4eedb6e8ecaddec677d817f0a/a59e9/imgOp2.webp 192w,\n/static/030ea5a4eedb6e8ecaddec677d817f0a/0ca9f/imgOp2.webp 384w,\n/static/030ea5a4eedb6e8ecaddec677d817f0a/dc9b9/imgOp2.webp 768w,\n/static/030ea5a4eedb6e8ecaddec677d817f0a/e2c2f/imgOp2.webp 1152w,\n/static/030ea5a4eedb6e8ecaddec677d817f0a/f3efb/imgOp2.webp 1536w,\n/static/030ea5a4eedb6e8ecaddec677d817f0a/a713d/imgOp2.webp 1622w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/webp\">\n          <source srcset=\"/static/030ea5a4eedb6e8ecaddec677d817f0a/3b721/imgOp2.png 192w,\n/static/030ea5a4eedb6e8ecaddec677d817f0a/66595/imgOp2.png 384w,\n/static/030ea5a4eedb6e8ecaddec677d817f0a/fe486/imgOp2.png 768w,\n/static/030ea5a4eedb6e8ecaddec677d817f0a/d2d74/imgOp2.png 1152w,\n/static/030ea5a4eedb6e8ecaddec677d817f0a/e8464/imgOp2.png 1536w,\n/static/030ea5a4eedb6e8ecaddec677d817f0a/79f3a/imgOp2.png 1622w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/030ea5a4eedb6e8ecaddec677d817f0a/fe486/imgOp2.png\" alt=\"imgOp2\" title=\"imgOp2\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span></h3>\n<p>해당 부분을 클릭하면 최적화가 필요한 이미지와 최적화 했을 때 용량을 제시해준다.</p>\n<h3><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/72e634c2f4865c362b65afa367a35189/4b293/imgOp3.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.958333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABjElEQVQoz42RSY7UQBBFfceWOEOzAyFYc4+WuAaCNb1qlVjAghWqpmaPOTgHO+16KJJ2qYAFhPQV6fCPHz8yC6MtTavxcSQMiTSdmWZIV/jrOw5MPjD5yGAdqmnpWoWxjsJrx/5Ysz9W7A4l2gZ8TLiQcEu+htQ2e/rvj/jHLeOPLamsGU1PDIlimmd65+l7h/MebQxaG6ztL9DGYmyPsRZrLcZHDl2gMoFhngljIgwjY0oUnM9InHP+df6fSGPEakXbNmil6LoW7xzFhZDSP0Vk6IIlvPdM00SMEWMMRas0d3fv+Pb1CyFGVNdRVRVaa8ZxzOQF8zz/NkBqfd9nXgghozgcT7x89YbVw0O+v9PpxG63y7nrOpxzF7K4ENEFspU4FEH5NwwDRV1X3Dy74f2HjyjVsd1uWa/XbDYb6rrOTu3TY4gbaVyaRaxpmlxv2/Zp5abm9vY5n+7vs5uyLLOo5EVAmgXXV/Cnw2WDQncNb1+/4PNqdZkoYpKVUrl27er6UURYXImgmBHuTwBV/kh5vd0fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/72e634c2f4865c362b65afa367a35189/a59e9/imgOp3.webp 192w,\n/static/72e634c2f4865c362b65afa367a35189/0ca9f/imgOp3.webp 384w,\n/static/72e634c2f4865c362b65afa367a35189/dc9b9/imgOp3.webp 768w,\n/static/72e634c2f4865c362b65afa367a35189/e2c2f/imgOp3.webp 1152w,\n/static/72e634c2f4865c362b65afa367a35189/f3efb/imgOp3.webp 1536w,\n/static/72e634c2f4865c362b65afa367a35189/5dc86/imgOp3.webp 1606w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/webp\">\n          <source srcset=\"/static/72e634c2f4865c362b65afa367a35189/3b721/imgOp3.png 192w,\n/static/72e634c2f4865c362b65afa367a35189/66595/imgOp3.png 384w,\n/static/72e634c2f4865c362b65afa367a35189/fe486/imgOp3.png 768w,\n/static/72e634c2f4865c362b65afa367a35189/d2d74/imgOp3.png 1152w,\n/static/72e634c2f4865c362b65afa367a35189/e8464/imgOp3.png 1536w,\n/static/72e634c2f4865c362b65afa367a35189/4b293/imgOp3.png 1606w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/72e634c2f4865c362b65afa367a35189/fe486/imgOp3.png\" alt=\"imgOp3\" title=\"imgOp3\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span></h3>\n<p><em>최적화가 필요한 이미지와 정보를 나열해준다.</em></p>\n<h4>Resource Size :</h4>\n<p>현재 이미지의 용량을 나타낸다.</p>\n<h4>Potential Savings :</h4>\n<p>최적화 할 경우 절약할 수 있는 이미지의 용량을 말한다.</p>\n<p>보통 렌더링 하고자하는 <strong>사이즈의 2배만큼의 크기를</strong> 가진 이미지를 불러오고 사용하는것이 가장 좋다.</p>\n<h3>이미지는 로딩되는 상황에 따라 최적화 방법이 다르다.</h3>\n<hr>\n<ol>\n<li>\n<p>자체 서버에 저장된 static 이미지를 사용하는 경우</p>\n<p>이미지를 스스로 조절할 수 있기 때문에 적절한 크기로 직접 잘라서 이용할 수 있다.</p>\n</li>\n<li>\n<p><strong>API를 이용해서 이미지를 동적으로 불러오는 경우</strong></p>\n</li>\n</ol>\n<p>내가 가지고 있는 이미지가 아니기 때문에 직접 자를 수 없다.</p>\n<p><strong>2번의 경우</strong> 이미지를 최적화 하는 방법에 대해 알아보자.</p>\n<h3>이미지 CDN을 사용한다.</h3>\n<hr>\n<p>CDN 서버에서 이미지를 사용자에게 보내기 전에 사용자가 원하는 <strong>특정 형태로 이미지를 가공</strong>해서 보내준다.</p>\n<ul>\n<li>이미지의 사이즈를 줄이거나</li>\n<li>이미지의 포멧을 바꾸는 등의 처리가 가능하다.</li>\n</ul>\n<p>이미지 CDN은</p>\n<blockquote>\n<p>https://cdn.image.com?src=[img src]&width=[want]&height=[want]</p>\n</blockquote>\n<p>형태로 제공되는데, src=[img src] 에는 원본 이미지의 src를 적고 want엔 원하는 이미지의 사이즈를 적으면 사용자에게 가공된 이미지를  넘겨준다. </p>\n<p><a href=\"https://imgix.com/\" target=\"_blank\" rel=\"nofollow\">imgix - The End-to-End Image Solution</a></p>\n<p>혹은 위와같은 이미지 솔루션을 이용하거나 직접 구축해서 사용할 수 있다.</p>\n<h3><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b6f8dd6be1514bb50cd157b0a4c410b8/d4fa6/imgOp1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 13.541666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAaElEQVQI15WO2w3CMBDAsv96TFCJjxxKuCZtgTzujGCC1pJ/LYdVn+z7wZyT1hq9d9z9tLjR35WtKltZCVkWojyQGBERVBUzOxkEnx3XG1YXesmEvWZUCyklxhj8uHL4jx53/CVY+/AFcovq+f7DXQYAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/b6f8dd6be1514bb50cd157b0a4c410b8/a59e9/imgOp1.webp 192w,\n/static/b6f8dd6be1514bb50cd157b0a4c410b8/0ca9f/imgOp1.webp 384w,\n/static/b6f8dd6be1514bb50cd157b0a4c410b8/dc9b9/imgOp1.webp 768w,\n/static/b6f8dd6be1514bb50cd157b0a4c410b8/e2c2f/imgOp1.webp 1152w,\n/static/b6f8dd6be1514bb50cd157b0a4c410b8/f3efb/imgOp1.webp 1536w,\n/static/b6f8dd6be1514bb50cd157b0a4c410b8/1a097/imgOp1.webp 1598w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/webp\">\n          <source srcset=\"/static/b6f8dd6be1514bb50cd157b0a4c410b8/3b721/imgOp1.png 192w,\n/static/b6f8dd6be1514bb50cd157b0a4c410b8/66595/imgOp1.png 384w,\n/static/b6f8dd6be1514bb50cd157b0a4c410b8/fe486/imgOp1.png 768w,\n/static/b6f8dd6be1514bb50cd157b0a4c410b8/d2d74/imgOp1.png 1152w,\n/static/b6f8dd6be1514bb50cd157b0a4c410b8/e8464/imgOp1.png 1536w,\n/static/b6f8dd6be1514bb50cd157b0a4c410b8/d4fa6/imgOp1.png 1598w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/b6f8dd6be1514bb50cd157b0a4c410b8/fe486/imgOp1.png\" alt=\"imgOp1\" title=\"imgOp1\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span></h3>\n<p>어떤 방식으로든 이미지의 크기를 최적화하면\n다음과 같이 Property size images 항목이 사라진 것을 볼 수 있다.</p>\n<h3>이미지 CDN로 사이즈를 최적화 하는것은</h3>\n<hr>\n<p>서버에서 이미지를 최적화하는 시간이 더 늘어나는 것을 의미한다.</p>\n<p>클라이언트에서는 적은 용량의 이미지를 로드 할 수 있겠지만, 그만큼 서버에서 처리되는 시간은 길어지는 것을 생각해야한다.</p>\n<p>따라서 이미지를 업로드할 땐, 한 번 가공된 이미지는 캐시로 저장해두고 재 요청시 불러오는 것이 좋은 방법이다.</p>\n<h2>참고</h2>\n<hr>\n<p><a href=\"https://www.inflearn.com/course/%EC%9B%B9-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94-%EB%A6%AC%EC%95%A1%ED%8A%B8-1/dashboard\" target=\"_blank\" rel=\"nofollow\">프론트엔드 개발자를 위한, 실전 웹 성능 최적화(feat. React) - Part. 1</a></p>","frontmatter":{"title":"이미지 최적화 방법","summary":"이미지 최적화 방법에 대해 알아보자","date":"2021.12.31.","categories":["TIL"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/b3221240861b7e5156657631edc409d2/afa5c/TIL.png","srcSet":"/static/b3221240861b7e5156657631edc409d2/2fe1e/TIL.png 480w,\n/static/b3221240861b7e5156657631edc409d2/9bec7/TIL.png 960w,\n/static/b3221240861b7e5156657631edc409d2/afa5c/TIL.png 1920w","sizes":"(min-width: 1920px) 1920px, 100vw"},"sources":[{"srcSet":"/static/b3221240861b7e5156657631edc409d2/3a3a2/TIL.webp 480w,\n/static/b3221240861b7e5156657631edc409d2/bde8a/TIL.webp 960w,\n/static/b3221240861b7e5156657631edc409d2/c512e/TIL.webp 1920w","type":"image/webp","sizes":"(min-width: 1920px) 1920px, 100vw"}]},"width":1920,"height":1080}},"publicURL":"/static/b3221240861b7e5156657631edc409d2/TIL.png"}}}}]}},"pageContext":{"slug":"/TIL/6/"}},
    "staticQueryHashes": []}