---
date: '2021-11-28'
title: 'TIL'
categories: ['TIL']
summary: '2021-11-28 학습내용'
thumbnail: '../images/post/post.png'
---

## 면접 스터디

- [11 / 28 면접공부](https://www.notion.so/11-28-3f765a6739724aaa8a08c28a4dbb59a4)
- 시간복잡도에 대한 이해 필요
- 실행 컨텍스트에 대한 이해 필요

## 웹팩

- 웹팩 개발 서버
  - 브라우저에서 파일을 직접 로딩하는 것이 아니라 서버 프로그램으로 파일을 읽고 요청한 클라이언트에 데이터를 제공하는 개발환경이 필요하다.
  - webpack-dev-server를 이용해 이러한 개발용 서버 환경을 맞출 수 있다.
- API 서버연동
  - devServer.before 속성을 이용해 목업 API를 제작
    - 개발 초기 서버 api가 만들어지기 전 서버 api를 `프론트엔드에서 먼저 사용`할 수 있다는 장점이 있다.
  - Cors 문제 프론트엔드에서 해결하는 방법
    - proxing 사용
      - 웹팩의 devServer.proxy 중
        ```jsx
        proxy: {
        	"/api": "https://localhost:포트번호"
        }
        ```
        를 이용하면 개발 서버에 들어온 모든 http요청중 /api로 시작되는것은 8081로 요청하는 설정.

## 꼬리물기 최적화 ( tail recursion )

Tail recursion : 재귀함수도 일정한 조건을 지키면 제어문처럼 메모리에 resource가 쌓이지 않고 해제 되는것

- 메모리에 상주하지 않으니 stack overflow 에러가 발생하지 않는다.
- 언어 차원에서 지원해야한다.
- 기계적으로 제어문으로 바꿀 수 있다.
  - tail recursion을 지원하지 않는 언어에서는 제어문을 이용해야하기 때문에 제어문으로 바꿀 수 있는 능력이 필요하다.
  - JS는 tail recursion을 지원하지 않지만 유일하게 `사파리에서는 동작`한다. (크롬은 지원x)

### 변환 방법

- 재귀함수로 코드 작성
- 재귀함수를 tail recursion으로 변경
- tail recursion을 제어문으로 기계적으로 변경
  - `기계적으로` 변경한다는 말은 tail recursion의 `논리를 100% 그대로 사용`하여 제어문으로 바꿔야 함을 의미한다.
  - 마치 사람이 컴파일러가 된 것처럼 바꿔야한다.

1. 에러표출을 위해 문을 식으로 변경

   ```jsx
   const err = v => {
     throw v
   }
   ```

2. 합계에 대한 재귀함수

   ```jsx
   if (1) {
     const _sum = num => (num ? num + _sum(num - 1) : 0)
     const sum = num =>
       typeof num !== 'number' ? err(`invalid type of ${num}`) : _sum(num)
     console.log(sum(10))
   }
   ```

3. 합계에 대한 tail recursion

   ```jsx
   if (1) {
     const _sum = (num, acc) => (num ? _sum(num - 1, acc + num) : acc)
     const sum = num =>
       typeof num !== 'number' ? err(`invalid type of ${num}`) : _sum(num, 0)
     console.log(sum(10))
   }
   ```

4. 제어문으로 변경

   ```jsx
   if (1) {
     const sum = num => {
       if (typeof num !== 'number') err(`invalid type of ${num}`)
       let acc = 0
       for (let i = num; i > 0; i = i - 1) acc = acc + i
       return acc
     }
     console.log(sum(10))
   }
   ```

사파리에서 실험시,

2번의 경우 num에 100,000 이상의 숫자 대입시 call stack 초과 에러 발생

3번의 경우 num에 100,000 이상의 숫자를 대입하더라도 계산가능
